<AuDataTable @isLoading={{@isLoading}} @noDataMessage="No data" as |table|>
  <table.content as |c|>
    <c.header>
      <th class="data-table__header-title">Code</th>
      <th class="data-table__header-title">Afbeelding</th>
      <th class="data-table__header-title">Template</th>
      <th class="data-table__header-title">Category</th>
      <th class="data-table__header-title"></th>
    </c.header>
    {{#if c.body}}
    <tbody>
      {{#if @isLoading}}
        <tr>
          <td colspan="100%" class="is-loading-data">
            <AuLoader />
            <AuHelpText>Loading...</AuHelpText>
          </td>
        </tr>
      {{else}}
        {{#each @content as |row|}}
            <tr role="button" class="au-c-data-table__clickable-row" {{on "click" (fn this.selectRow row.uri)}}>
              <td>
                <AuHeading @level="4" @skin="6">{{row.label}}</AuHeading>
              </td>
              <td>
                {{#each row.images as |image|}}
                  <img src={{image}} alt="verkeersteken {{row.label}}" class="au-c-data-table__image" />
                {{/each}}
              </td>
              <td>
                <AuHelpText skin="secondary" class="au-u-margin-none">{{limit-text row.templateValue}}</AuHelpText>
              </td>
              <td>
                {{#each row.clasiffications as |clasiffication|}}
                  <AuPill @skin="border">{{clasiffication}}</AuPill>
                {{/each}}
              </td>
              <td>
                {{#if (eq this.selected row.uri)}}
                <AuIcon @icon="nav-up" @ariaHidden={{true}} class="au-c-data-table__clickable-row-icon" />
                {{else}}
                <AuIcon @icon="nav-down" @ariaHidden={{true}} class="au-c-data-table__clickable-row-icon" />
                {{/if}}
              </td>
            </tr>
          {{#if (eq this.selected row.uri)}}
            <tr class="au-c-data-table__detail">
              <td colspan="5" class="au-o-flow au-o-flow--small">
                <AuHeading @level="6" @skin="6">Voeg maatregel in:</AuHeading>
                <p><AuPill>{{row.templateValue}}</AuPill></p>
                <AuButtonGroup>
                  <AuButton {{on 'click' (fn @insert row.templateValue)}}>
                    Voeg in
                  </AuButton>
                  <AuButton @skin="secondary">
                    Annuleer
                  </AuButton>
                </AuButtonGroup>
              </td>
            </tr>
          {{/if}}
        {{else}}
          <tr>
            <td colspan="5" class="no-data-message"><p>Er werden geen verkeerstekens gevonden.</p></td>
          </tr>
        {{/each}}
      {{/if}}
    </tbody>
    {{/if}}
  </table.content>
</AuDataTable>

<RoadsignsPagination
  @hasPreviousPage={{@hasPreviousPage}}
  @goToPreviousPage={{@goToPreviousPage}}
  @hasNextPage={{@hasNextPage}}
  @goToNextPage={{@goToNextPage}}
  @pageStart={{@pageStart}}
  @pageEnd={{@pageEnd}}
  @count={{@count}}
/>
